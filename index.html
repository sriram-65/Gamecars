<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Car Game</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
  

    <div id="gameArea">
        <div id="car"></div>
    </div>

    <!-- Touch controls -->
    <div id="controls">
        <button id="leftBtn">⬅️</button>
        <button id="rightBtn">➡️</button>
    </div>

    <!-- Game Over screen -->
    <div id="gameOver">
        <h1>Game Over</h1>
        <h2>Made By Unreal engine</h2>
        <button id="restartBtn">Restart</button>
    </div>

    <script src="game.js"></script>
</body>
</html>
<style>
  #gameOver {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.8);
    color: white;
    text-align: center;
    padding-top: 20%;
    z-index: 20;
}

#gameOver h1 {
    font-size: 4em;
    margin-bottom: 20px;
}

#restartBtn {
    padding: 10px 20px;
    font-size: 1.5em;
    background-color: #f00;
    color: white;
    border: none;
    border-radius: 10px;
    cursor: pointer;
}
#controls {
    position: fixed;
    bottom: 20px;
    width: 100%;
    display: flex;
    justify-content: center;
    z-index: 10;
}

#leftBtn, #rightBtn {
    width: 100px;
    height: 100px;
    font-size: 2em;
    margin: 0 10px;
    background-color: #555;
    color: white;
    border: none;
    border-radius: 10px;
    outline: none;
}

#leftBtn:active, #rightBtn:active {
    background-color: #333;
}
.obstacle {
    position: absolute;
    width: 50px;
    height: 100px;
    background-color: yellow;
    border-radius: 10px;
}
body {
    margin: 0;
    overflow: hidden;
    background-color: #333;
}

#gameArea {
    position: relative;
    width: 100%;
    height: 100vh;
    background-color: #111;
    overflow: hidden;
}

#car {
    position: absolute;
    bottom: 10px;
    left: 50%;
    width: 50px;
    height: 100px;
    background-color: red;
    transform: translateX(-50%);
    border-radius: 10px;
}

</style>
<script>
  const gameArea = document.getElementById('gameArea');
const car = document.getElementById('car');
const leftBtn = document.getElementById('leftBtn');
const rightBtn = document.getElementById('rightBtn');
const gameOver = document.getElementById('gameOver');
const restartBtn = document.getElementById('restartBtn');
let carPosition = 50; // Initial position of the car (50% from the left)
let gameRunning = true; // Track the game state

// Keyboard controls
document.addEventListener('keydown', (e) => {
    if (gameRunning) {
        moveCar(e.key);
    }
});

// Touch controls
leftBtn.addEventListener('touchstart', () => {
    if (gameRunning) {
        moveCar('ArrowLeft');
    }
});

rightBtn.addEventListener('touchstart', () => {
    if (gameRunning) {
        moveCar('ArrowRight');
    }
});

function moveCar(direction) {
    switch (direction) {
        case 'ArrowLeft':
        case 'a':
            if (carPosition > 0) {
                carPosition -= 5;
            }
            break;
        case 'ArrowRight':
        case 'd':
            if (carPosition < 100) {
                carPosition += 5;
            }
            break;
    }
    car.style.left = carPosition + '%';
}

// Obstacle creation and movement
function createObstacle() {
    if (!gameRunning) return;

    const obstacle = document.createElement('div');
    obstacle.className = 'obstacle';
    obstacle.style.left = Math.floor(Math.random() * 90) + '%';
    obstacle.style.top = '0';
    gameArea.appendChild(obstacle);

    let moveInterval = setInterval(() => {
        let currentTop = parseInt(obstacle.style.top);
        if (currentTop > 100) {
            clearInterval(moveInterval);
            obstacle.remove();
        } else {
            obstacle.style.top = currentTop + 1 + '%';
        }

        // Collision detection
        if (currentTop > 85 && currentTop < 100 && Math.abs(carPosition - parseInt(obstacle.style.left)) < 5) {
            clearInterval(moveInterval);
            endGame();
        }
    }, 20);
}

// Spawn obstacles every 2 seconds
let obstacleInterval = setInterval(createObstacle, 2000);

function endGame() {
    gameRunning = false;
    gameOver.style.display = 'block';
    clearInterval(obstacleInterval);
}

// Restart the game
restartBtn.addEventListener('click', () => {
    window.location.reload();
});
</script>